<!DOCTYPE html>
<html>
<head>
<title>Everyone's a Wally: Routine at ED2A</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<link rel="stylesheet" type="text/css" href="../everyonesawally.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="ED13.html">ED13</a>
</td>
<td class="up">Up: <a href="../maps/all.html#ed2a">Map</a></td>
<td class="next">
Next: <a href="EDA3.html">EDA3</a>
</td>
</tr>
</table>
<div class="description">ED2A: Routine at ED2A</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="8184.html">GameLoop</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="ed2a"></span>ED2A</td>
<td class="instruction">LD A,($ECF5)</td>
<td class="comment-1" rowspan="3"><span class="register">E</span>=*<a href="ECF5.html">ECF5</a>*02.</td>
</tr>
<tr>
<td class="address-1"><span id="ed2d"></span>ED2D</td>
<td class="instruction">ADD A,A</td>
</tr>
<tr>
<td class="address-1"><span id="ed2e"></span>ED2E</td>
<td class="instruction">LD E,A</td>
</tr>
<tr>
<td class="address-1"><span id="ed2f"></span>ED2F</td>
<td class="instruction">LD D,$00</td>
<td class="comment-1" rowspan="1"><span class="register">D</span>=00.</td>
</tr>
<tr>
<td class="address-1"><span id="ed31"></span>ED31</td>
<td class="instruction">LD HL,$ECF6</td>
<td class="comment-1" rowspan="2"><span class="register">HL</span>=<a href="ECF6.html">ECF6</a>+<span class="register">DE</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="ed34"></span>ED34</td>
<td class="instruction">ADD HL,DE</td>
</tr>
<tr>
<td class="address-1"><span id="ed35"></span>ED35</td>
<td class="instruction">LD A,($ECFF)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="ECFE.html#ecff">ECFF</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="ed38"></span>ED38</td>
<td class="instruction">SUB (HL)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed39"></span>ED39</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed3a"></span>ED3A</td>
<td class="instruction">LD A,($ECFE)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed3d"></span>ED3D</td>
<td class="instruction">SBC A,(HL)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed3e"></span>ED3E</td>
<td class="instruction">RET C</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed3f"></span>ED3F</td>
<td class="instruction">LD BC,$0000</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="ed42"></span>ED42</td>
<td class="instruction">DEC BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed43"></span>ED43</td>
<td class="instruction">NOP</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed44"></span>ED44</td>
<td class="instruction">NOP</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed45"></span>ED45</td>
<td class="instruction">LD A,B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed46"></span>ED46</td>
<td class="instruction">OR C</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed47"></span>ED47</td>
<td class="instruction">JR NZ,<a href="ED2A.html#ed42">$ED42</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed49"></span>ED49</td>
<td class="instruction">CALL <a href="B902.html">Clear_PlayArea</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed4c"></span>ED4C</td>
<td class="instruction">LD HL,$ED00</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="ED00.html">ED00</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="ed4f"></span>ED4F</td>
<td class="instruction">ADD HL,DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed50"></span>ED50</td>
<td class="instruction">LD E,(HL)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed51"></span>ED51</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed52"></span>ED52</td>
<td class="instruction">LD D,(HL)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed53"></span>ED53</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed54"></span>ED54</td>
<td class="instruction">LD DE,$0000</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=0000.</td>
</tr>
<tr>
<td class="address-1"><span id="ed57"></span>ED57</td>
<td class="instruction">CALL <a href="B8C4.html">PrintString</a></td>
<td class="comment-1" rowspan="1">Call <a href="B8C4.html">PrintString</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="ed5a"></span>ED5A</td>
<td class="instruction">CALL <a href="B9AC.html">$B9AC</a></td>
<td class="comment-1" rowspan="1">Call <a href="B9AC.html">B9AC</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="ed5d"></span>ED5D</td>
<td class="instruction">CALL <a href="EEA2.html">$EEA2</a></td>
<td class="comment-1" rowspan="1">Call <a href="EEA2.html">EEA2</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="ed60"></span>ED60</td>
<td class="instruction">LD A,($ECF5)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed63"></span>ED63</td>
<td class="instruction">ADD A,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed64"></span>ED64</td>
<td class="instruction">ADD A,$65</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed66"></span>ED66</td>
<td class="instruction">LD IX,$ED06</td>
<td class="comment-1" rowspan="1"><span class="register">IX</span>=<a href="ED00.html#ed06">ED06</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="ed6a"></span>ED6A</td>
<td class="instruction">LD B,$03</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=03.</td>
</tr>
<tr>
<td class="address-2"><span id="ed6c"></span>ED6C</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="1">Stash <span class="register">BC</span> on the stack.</td>
</tr>
<tr>
<td class="address-1"><span id="ed6d"></span>ED6D</td>
<td class="instruction">LD BC,$F5CA</td>
<td class="comment-1" rowspan="1"><span class="register">BC</span>=<a href="F5BE.html#f5ca">F5CA</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="ed70"></span>ED70</td>
<td class="instruction">CALL <a href="EEC1.html#ef35">$EF35</a></td>
<td class="comment-1" rowspan="1">Call <a href="EEC1.html#ef35">EF35</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="ed73"></span>ED73</td>
<td class="instruction">CALL <a href="A8A0.html">$A8A0</a></td>
<td class="comment-1" rowspan="1">Call <a href="A8A0.html">A8A0</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="ed76"></span>ED76</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed77"></span>ED77</td>
<td class="instruction">DJNZ <a href="ED2A.html#ed6c">$ED6C</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed79"></span>ED79</td>
<td class="instruction">CALL <a href="B9FB.html">Copy_ShadowBuffer</a></td>
<td class="comment-1" rowspan="1">Call <a href="B9FB.html">Copy_ShadowBuffer</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="ed7c"></span>ED7C</td>
<td class="instruction">CALL <a href="ABD7.html">Controls_ExitScreen</a></td>
<td class="comment-1" rowspan="1">Call <a href="ABD7.html">Controls_ExitScreen</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="ed7f"></span>ED7F</td>
<td class="instruction">OR A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed80"></span>ED80</td>
<td class="instruction">JR Z,<a href="ED2A.html#ed5d">$ED5D</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed82"></span>ED82</td>
<td class="instruction">LD HL,$ECF5</td>
<td class="comment-1" rowspan="2">Incremnt *<a href="ECF5.html">ECF5</a> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="ed85"></span>ED85</td>
<td class="instruction">INC (HL)</td>
</tr>
<tr>
<td class="address-1"><span id="ed86"></span>ED86</td>
<td class="instruction">CALL <a href="B952.html">DrawRoom</a></td>
<td class="comment-1" rowspan="1">Call <a href="B952.html">DrawRoom</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="ed89"></span>ED89</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="ed8a"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routines at <a href="ED13.html">ED13</a> and <a href="F177.html">F177</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="ed8a"></span>ED8A</td>
<td class="instruction">LD IX,$ED06</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed8e"></span>ED8E</td>
<td class="instruction">LD B,$03</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="ed90"></span>ED90</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed91"></span>ED91</td>
<td class="instruction">LD BC,$F5CA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed94"></span>ED94</td>
<td class="instruction">CALL <a href="EEC1.html#ef35">$EF35</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed97"></span>ED97</td>
<td class="instruction">CALL <a href="A8A0.html">$A8A0</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed9a"></span>ED9A</td>
<td class="instruction">PUSH AF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed9b"></span>ED9B</td>
<td class="instruction">CALL <a href="E329.html">$E329</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed9e"></span>ED9E</td>
<td class="instruction">POP AF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="ed9f"></span>ED9F</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="eda0"></span>EDA0</td>
<td class="instruction">DJNZ <a href="ED2A.html#ed90">$ED90</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="eda2"></span>EDA2</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1"></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="ED13.html">ED13</a>
</td>
<td class="up">Up: <a href="../maps/all.html#ed2a">Map</a></td>
<td class="next">
Next: <a href="EDA3.html">EDA3</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1985 Mikro-Gen &copy; 2023 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.10.</div>
<div class="repository">Link to <a href="https://github.com/pobtastic/everyonesawally/">Source code</a>.</div>
<div><a href="../dec/asm/60714.html">Switch to decimal</a>.</div>
</footer>
</body>
</html>